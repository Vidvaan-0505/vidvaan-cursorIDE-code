(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[115],{844:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>h,A:()=>x});var r=s(5155),a=s(2115),i=s(5404),n=s(3915),o=s(5317),l=s(1906);let d=(0,n.Wp)({apiKey:"AIzaSyB1QY-OojzBbqwCi_WRIgv4LvJsNImjgMc",authDomain:"vidvaan-attempt-2.firebaseapp.com",projectId:"vidvaan-attempt-2",storageBucket:"vidvaan-attempt-2.firebasestorage.app",messagingSenderId:"148174256346",appId:"1:148174256346:web:26b47735682aa0a1aa0de3",measurementId:"G-L05BZGSEN8"}),c=(0,i.xI)(d);(0,o.aU)(d);let u=new i.HF;u.setCustomParameters({prompt:"select_account"});(0,l.P5)(d);let m=(0,a.createContext)(void 0);function x(){let e=(0,a.useContext)(m);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function h(e){let{children:t}=e,[s,n]=(0,a.useState)(null),[o,l]=(0,a.useState)(!0);return(0,a.useEffect)(()=>(0,i.hg)(c,e=>{n(e),l(!1)}),[]),(0,r.jsx)(m.Provider,{value:{currentUser:s,signup:function(e,t){return(0,i.eJ)(c,e,t)},login:function(e,t){return(0,i.x9)(c,e,t)},signInWithGoogle:function(){return(0,i.df)(c,u)},logout:function(){return(0,i.CI)(c)},loading:o},children:!o&&t})}},1394:(e,t,s)=>{Promise.resolve().then(s.bind(s,2921))},2921:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(5155),a=s(2115),i=s(844),n=s(5695),o=s(6874),l=s.n(o);function d(){let[e,t]=(0,a.useState)(""),[s,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),{currentUser:x}=(0,i.A)();(0,n.useRouter)();let h=async s=>{if(s.preventDefault(),!e.trim())return void m("Please enter some text to evaluate");o(!0),m(""),c("");try{let s=await (null==x?void 0:x.getIdToken()),r=await fetch("/api/evaluate-english-levels",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({text:e,userId:null==x?void 0:x.uid,userEmail:null==x?void 0:x.email,requestId:crypto.randomUUID(),timestamp:new Date().toISOString()})}),a=await r.json();r.ok?(c("Your text has been successfully submitted! Request ID: ".concat(a.requestId,". Processing will be done in the background.")),t("")):m(a.error||"Failed to submit text. Please try again.")}catch(e){m("Network error. Please check your connection and try again.")}finally{o(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("nav",{className:"bg-white shadow-sm",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(l(),{href:"/dashboard",className:"text-indigo-600 hover:text-indigo-500",children:"← Back to Dashboard"}),(0,r.jsx)(l(),{href:"/",className:"text-2xl font-bold text-indigo-600 hover:text-indigo-700 transition-colors duration-200",children:"Vidvaan"})]}),(0,r.jsx)("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)("span",{className:"text-gray-700",children:["Welcome, ",null==x?void 0:x.email]})})]})})}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"English Level Assessment"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Please write a paragraph about yourself, your interests, or any topic you'd like to discuss. This will help us evaluate your English proficiency level and provide personalized recommendations."})]}),(0,r.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"text",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Text (Minimum 50 words recommended)"}),(0,r.jsx)("textarea",{id:"text",rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 resize-none",placeholder:"Write your paragraph here...",value:e,onChange:e=>t(e.target.value),required:!0}),(0,r.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Word count: ",e.split(/\s+/).filter(e=>e.length>0).length]})]}),u&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:u}),d&&(0,r.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-md",children:d}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)(l(),{href:"/dashboard",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:s,className:"inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit for Evaluation"})]})]})]})})]})}},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})}},e=>{e.O(0,[135,965,81,874,441,964,358],()=>e(e.s=1394)),_N_E=e.O()}]);